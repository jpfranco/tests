!function a(o,s,l){function u(n,e){if(!s[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};o[n][0].call(i.exports,function(e){return u(o[n][1][e]||e)},i,i.exports,a,o,s,l)}return s[n].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,n,t){OO||(OO={})},{}],2:[function(e,n,t){e("./InitOOUnderscore.js");var r={};window&&!window.debugHazmat&&(r={warn:function(){}}),OO.HM||"undefined"!=typeof window&&void 0!==window._?window.Hazmat||e("hazmat"):OO.HM=e("hazmat").create(r),OO.HM||(OO.HM=window.Hazmat.noConflict().create(r))},{"./InitOOUnderscore.js":4,hazmat:8}],3:[function(e,n,t){e("./InitOO.js"),OO.playerParams||(OO.playerParams={}),OO.playerParams.core_version||(OO.playerParams.core_version=4),OO.playerParams.vast_proxy_url||(OO.playerParams.vast_proxy_url="http://player.ooyala.com/adinsertion/vast_proxy")},{"./InitOO.js":1}],4:[function(e,n,t){e("./InitOO.js"),window._||(window._=e("underscore")),OO._||(OO._=window._.noConflict())},{"./InitOO.js":1,underscore:9}],5:[function(e,n,t){var r,i;r=OO,i=OO._,r.STATE={LOADING:"loading",READY:"ready",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",DESTROYED:"destroyed",__end_marker:!0},r.EVENTS={PLAYER_CREATED:"playerCreated",PLAYER_EMBEDDED:"playerEmbedded",SET_EMBED_CODE:"setEmbedCode",HEVC_CHECKED:"hevcChecked",SET_EMBED_CODE_AFTER_OOYALA_AD:"setEmbedCodeAfterOoyalaAd",EMBED_CODE_CHANGED:"embedCodeChanged",SET_ASSET:"setAsset",ASSET_CHANGED:"assetChanged",UPDATE_ASSET:"updateAsset",ASSET_UPDATED:"assetUpdated",AUTH_TOKEN_CHANGED:"authTokenChanged",GUID_SET:"guidSet",WILL_FETCH_PLAYER_XML:"willFetchPlayerXml",PLAYER_XML_FETCHED:"playerXmlFetched",WILL_FETCH_CONTENT_TREE:"willFetchContentTree",SAVE_PLAYER_SETTINGS:"savePlayerSettings",CONTENT_TREE_FETCHED:"contentTreeFetched",WILL_FETCH_METADATA:"willFetchMetadata",METADATA_FETCHED:"metadataFetched",SKIN_METADATA_FETCHED:"skinMetadataFetched",THUMBNAILS_FETCHED:"thumbnailsFetched",WILL_FETCH_AUTHORIZATION:"willFetchAuthorization",AUTHORIZATION_FETCHED:"authorizationFetched",WILL_FETCH_AD_AUTHORIZATION:"willFetchAdAuthorization",AD_AUTHORIZATION_FETCHED:"adAuthorizationFetched",CAN_SEEK:"canSeek",WILL_RESUME_MAIN_VIDEO:"willResumeMainVideo",PLAYBACK_READY:"playbackReady",INITIAL_PLAY:"initialPlay",WILL_PLAY:"willPlay",REPLAY:"replay",SET_PLAYBACK_SPEED:"setPlaybackSpeed",PLAYBACK_SPEED_CHANGED:"playbackSpeedChanged",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",BUFFERING:"buffering",BUFFERED:"buffered",DOWNLOADING:"downloading",BITRATE_INFO_AVAILABLE:"bitrateInfoAvailable",SET_TARGET_BITRATE:"setTargetBitrate",BITRATE_CHANGED:"bitrateChanged",CLOSED_CAPTIONS_INFO_AVAILABLE:"closedCaptionsInfoAvailable",SET_CLOSED_CAPTIONS_LANGUAGE:"setClosedCaptionsLanguage",SKIN_UI_LANGUAGE:"skinUiLanguage",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",ASSET_DIMENSION:"assetDimension",SCRUBBING:"scrubbing",SCRUBBED:"scrubbed",SEEK:"seek",SEEKED:"seeked",PLAY:"play",PLAYING:"playing",PLAY_FAILED:"playFailed",PAUSE:"pause",PAUSED:"paused",PLAYED:"played",DISPLAY_CUE_POINTS:"displayCuePoints",INSERT_CUE_POINT:"insertCuePoint",RESET_CUE_POINTS:"resetCuePoints",WILL_CHANGE_FULLSCREEN:"willChangeFullscreen",FULLSCREEN_CHANGED:"fullscreenChanged",SIZE_CHANGED:"sizeChanged",CHANGE_VOLUME:"changeVolume",VOLUME_CHANGED:"volumeChanged",CHANGE_MUTE_STATE:"changeMuteState",MUTE_STATE_CHANGED:"muteStateChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",END_SCREEN_SHOWN:"endScreenShown",ERROR:"error",API_ERROR:"apiError",BITRATE_INITIAL:"bitrateInitial",BITRATE_FIVE_SEC:"bitrateFiveSec",BITRATE_STABLE:"bitrateStable",PLAYBACK_START_ERROR:"playbackStartError",PLAYBACK_MIDSTREAM_ERROR:"playbackMidstreamError",PLUGIN_LOADED:"pluginLoaded",VC_PLUGIN_ERROR:"videoPluginError",INITIAL_PLAY_STARTING:"initialPlayStarting",REQUEST_PREVIOUS_VIDEO:"requestPreviousVideo",REQUEST_NEXT_VIDEO:"requestNextVideo",POSITION_IN_PLAYLIST_DETERMINED:"positionInPlaylistDetermined",DESTROY:"destroy",WILL_PLAY_FROM_BEGINNING:"willPlayFromBeginning",DISABLE_PLAYBACK_CONTROLS:"disablePlaybackControls",ENABLE_PLAYBACK_CONTROLS:"enablePlaybackControls",VC_READY:"videoControllerReady",VC_CREATE_VIDEO_ELEMENT:"videoControllerCreateVideoElement",VC_UPDATE_ELEMENT_STREAM:"videoControllerUpdateElementStream",VC_VIDEO_ELEMENT_CREATED:"videoControllerVideoElementCreated",VC_FOCUS_VIDEO_ELEMENT:"videoControllerFocusVideoElement",VC_VIDEO_ELEMENT_IN_FOCUS:"videoControllerVideoElementInFocus",VC_VIDEO_ELEMENT_LOST_FOCUS:"videoControllerVideoElementLostFocus",VC_DISPOSE_VIDEO_ELEMENT:"videoControllerDisposeVideoElement",VC_VIDEO_ELEMENT_DISPOSED:"videoControllerVideoElementDisposed",VC_SET_VIDEO_STREAMS:"videoControllerSetVideoStreams",VC_ERROR:"videoControllerError",VC_SET_INITIAL_TIME:"videoSetInitialTime",VC_PLAY:"videoPlay",PLAY_VIDEO_ELEMENT:"playVideoElement",VC_WILL_PLAY:"videoWillPlay",VC_PLAYING:"videoPlaying",VC_PLAYED:"videoPlayed",VC_PLAY_FAILED:"videoPlayFailed",VC_PAUSE:"videoPause",VC_PAUSED:"videoPaused",VC_SEEK:"videoSeek",VC_SEEKING:"videoSeeking",VC_SEEKED:"videoSeeked",VC_PRELOAD:"videoPreload",VC_RELOAD:"videoReload",VC_PRIME_VIDEOS:"videoPrimeVideos",VC_TAG_FOUND:"videoTagFound",INITIAL_PLAY_STARTING:"initialPlayStarting",AD_SDK_LOADED:"adSdkLoaded",AD_SDK_LOAD_FAILED:"adSdkLoadFailed",AD_REQUEST:"adRequest",AD_REQUEST_SUCCESS:"adRequestSuccess",AD_REQUEST_ERROR:"adRequestError",AD_REQUEST_EMPTY:"adRequestEmpty",AD_PLAYBACK_ERROR:"adPlaybackError",AD_SDK_IMPRESSION:"adSdkImpression",AD_COMPLETED:"adCompleted",WILL_FETCH_ADS:"willFetchAds",DISABLE_SEEKING:"disableSeeking",ENABLE_SEEKING:"enableSeeking",WILL_PLAY_ADS:"willPlayAds",WILL_PLAY_SINGLE_AD:"willPlaySingleAd",WILL_PAUSE_ADS:"willPauseAds",WILL_RESUME_ADS:"willResumeAds",WILL_PLAY_NONLINEAR_AD:"willPlayNonlinearAd",PLAY_NONLINEAR_AD:"playNonlinearAd",NONLINEAR_AD_DISPLAYED:"nonlinearAdDisplayed",ADS_PLAYED:"adsPlayed",SINGLE_AD_PLAYED:"singleAdPlayed",ADS_ERROR:"adsError",ADS_CLICKED:"adsClicked",FIRST_AD_FETCHED:"firstAdFetched",AD_CONFIG_READY:"adConfigReady",WILL_SHOW_COMPANION_ADS:"willShowCompanionAds",AD_FETCH_FAILED:"adFetchFailed",MIDROLL_PLAY_FAILED:"midrollPlayFailed",SKIP_AD:"skipAd",UPDATE_AD_COUNTDOWN:"updateAdCountdown",REPORT_EXPERIMENT_VARIATIONS:"reportExperimentVariations",FETCH_STYLE:"fetchStyle",STYLE_FETCHED:"styleFetched",SET_STYLE:"setStyle",USE_SERVER_SIDE_HLS_ADS:"useServerSideHlsAds",LOAD_ALL_VAST_ADS:"loadAllVastAds",ADS_FILTERED:"adsFiltered",ADS_MANAGER_HANDLING_ADS:"adsManagerHandlingAds",ADS_MANAGER_FINISHED_ADS:"adsManagerFinishedAds",OVERLAY_RENDERING:"overlayRendering",SHOW_AD_CONTROLS:"showAdControls",SHOW_AD_MARQUEE:"showAdMarquee",SDK_AD_EVENT:"sdkAdEvent",PAGE_UNLOAD_REQUESTED:"pageUnloadRequested",PAGE_PROBABLY_UNLOADING:"pageProbablyUnloading",REPORT_DISCOVERY_IMPRESSION:"reportDiscoveryImpression",REPORT_DISCOVERY_CLICK:"reportDiscoveryClick",DISCOVERY_API:{SEND_DISPLAY_EVENT:"sendDisplayEvent",SEND_CLICK_EVENT:"sendClickEvent"},PLAYLISTS_READY:"playlistReady",VIDEO_TYPE_CHANGED:"videoTypeChanged",UI_READY:"uiReady",__end_marker:!0},r.ERROR={API:{NETWORK:"network",SAS:{GENERIC:"sas",GEO:"geo",DOMAIN:"domain",FUTURE:"future",PAST:"past",DEVICE:"device",PROXY:"proxy",CONCURRENT_STREAMS:"concurrent_streams",INVALID_HEARTBEAT:"invalid_heartbeat",ERROR_DEVICE_INVALID_AUTH_TOKEN:"device_invalid_auth_token",ERROR_DEVICE_LIMIT_REACHED:"device_limit_reached",ERROR_DEVICE_BINDING_FAILED:"device_binding_failed",ERROR_DEVICE_ID_TOO_LONG:"device_id_too_long",ERROR_DRM_RIGHTS_SERVER_ERROR:"drm_server_error",ERROR_DRM_GENERAL_FAILURE:"drm_general_failure",ERROR_INVALID_ENTITLEMENTS:"invalid_entitlements"},CONTENT_TREE:"content_tree",METADATA:"metadata"},PLAYBACK:{GENERIC:"playback",STREAM:"stream",LIVESTREAM:"livestream",NETWORK:"network_error"},CHROMECAST:{MANIFEST:"chromecast_manifest",MEDIAKEYS:"chromecast_mediakeys",NETWORK:"chromecast_network",PLAYBACK:"chromecast_playback"},UNPLAYABLE_CONTENT:"unplayable_content",INVALID_EXTERNAL_ID:"invalid_external_id",EMPTY_CHANNEL:"empty_channel",EMPTY_CHANNEL_SET:"empty_channel_set",CHANNEL_CONTENT:"channel_content",VC:{UNSUPPORTED_ENCODING:"unsupported_encoding",UNABLE_TO_CREATE_VIDEO_ELEMENT:"unable_to_create_video_element"},MEDIA:{MEDIA_ERR_ABORTED:"aborted",MEDIA_ERR_NETWORK:"network_error",MEDIA_ERR_DECODE:"decode_error",MEDIA_ERR_SRC_NOT_SUPPORTED:"unsupported_source"}},r.URLS={VAST_PROXY:i.template("http://player.ooyala.com/nuplayer/mobile_vast_ads_proxy?callback=<%=cb%>&embed_code=<%=embedCode%>&expires=<%=expires%>&tag_url=<%=tagUrl%>"),EXTERNAL_ID:i.template("<%=server%>/player_api/v1/content_tree/external_id/<%=pcode%>/<%=externalId%>"),CONTENT_TREE:i.template("<%=server%>/player_api/v1/content_tree/embed_code/<%=pcode%>/<%=embedCode%>"),METADATA:i.template("<%=server%>/player_api/v1/metadata/embed_code/<%=playerBrandingId%>/<%=embedCode%>?videoPcode=<%=pcode%>"),SAS:i.template("<%=server%>/player_api/v1/authorization/embed_code/<%=pcode%>/<%=embedCode%>"),ANALYTICS:i.template("<%=server%>/reporter.js"),THUMBNAILS:i.template("<%=server%>/api/v1/thumbnail_images/<%=embedCode%>"),__end_marker:!0},r.TRACKING_LEVEL={DEFAULT:"default",ANONYMOUS:"anonymous",DISABLED:"disabled"},r.PLUGINS={ADS:"ads",VIDEO:"video",ANALYTICS:"analytics",PLAYLIST:"playlist",SKIN:"skin"},r.VIDEO={MAIN:"main",ADS:"ads",ENCODING:{DRM:{HLS:"hls_drm",DASH:"dash_drm"},AUDIO:"audio",DASH:"dash",HDS:"hds",HLS:"hls",IMA:"ima",PULSE:"pulse",MP4:"mp4",YOUTUBE:"youtube",RTMP:"rtmp",SMOOTH:"smooth",WEBM:"webm",AKAMAI_HD_VOD:"akamai_hd_vod",AKAMAI_HD2_VOD_HLS:"akamai_hd2_vod_hls",AKAMAI_HD2_VOD_HDS:"akamai_hd2_vod_hds",AKAMAI_HD2_HDS:"akamai_hd2_hds",AKAMAI_HD2_HLS:"akamai_hd2_hls",FAXS_HLS:"faxs_hls",WIDEVINE_HLS:"wv_hls",WIDEVINE_MP4:"wv_mp4",WIDEVINE_WVM:"wv_wvm",UNKNOWN:"unknown"},FEATURE:{CLOSED_CAPTIONS:"closedCaptions",VIDEO_OBJECT_SHARING_GIVE:"videoObjectSharingGive",VIDEO_OBJECT_SHARING_TAKE:"videoObjectSharingTake",BITRATE_CONTROL:"bitrateControl"},TECHNOLOGY:{FLASH:"flash",HTML5:"html5",MIXED:"mixed",OTHER:"other"}},r.CSS={VISIBLE_POSITION:"0px",INVISIBLE_POSITION:"-100000px",VISIBLE_DISPLAY:"block",INVISIBLE_DISPLAY:"none",VIDEO_Z_INDEX:1e4,SUPER_Z_INDEX:2e4,ALICE_SKIN_Z_INDEX:11e3,OVERLAY_Z_INDEX:10500,TRANSPARENT_COLOR:"rgba(255, 255, 255, 0)",__end_marker:!0},r.TEMPLATES={RANDOM_PLACE_HOLDER:["[place_random_number_here]","<now>","[timestamp]","<rand-num>","[cache_buster]","[random]"],REFERAK_PLACE_HOLDER:["[referrer_url]","[LR_URL]","[description_url]"],EMBED_CODE_PLACE_HOLDER:["[oo_embedcode]"],MESSAGE:'                  <table width="100%" height="100%" bgcolor="black" style="padding-left:55px; padding-right:55px;                   background-color:black; color: white;">                  <tbody>                  <tr valign="middle">                  <td align="right"><span style="font-family:Arial; font-size:20px">                  <%= message %>                  </span></td></tr></tbody></table>                  ',__end_marker:!0},r.CONSTANTS={AD_PLAY_COUNT_KEY:"oo_ad_play_count",AD_ID_TO_PLAY_COUNT_DIVIDER:":",AD_PLAY_COUNT_DIVIDER:"|",MAX_AD_PLAY_COUNT_HISTORY_LENGTH:20,CONTROLS_BOTTOM_PADDING:10,SEEK_TO_END_LIMIT:4,HEVC_CODEC:{HEV1:"hev1",HVC1:"hvc1"},CLOSED_CAPTIONS:{SHOWING:"showing",HIDDEN:"hidden",DISABLED:"disabled"},OOYALA_PLAYER_SETTINGS_KEY:"ooyala_player_settings",PLAYBACK_SPEED:{MIN:.5,MAX:2},__end_marker:!0}},{}],6:[function(e,n,t){!function(r,e,n){r.playerParams=n.safeObject("environment.playerParams",r.playerParams,{}),r.configurePublisher=function(e){r.playerParams.pcode=e.pcode||r.playerParams.pcode||"",r.playerParams.playerBrandingId=e.playerBrandingId||r.playerParams.playerBrandingId||"",r.playerParams.debug=e.debug||r.playerParams.debug||""},r.isPublisherConfigured=function(){return!(!r.playerParams.pcode||!r.playerParams.playerBrandingId)},r.setServerHost=function(e){r.playerParams.api_ssl_server=e.api_ssl_server||r.playerParams.api_ssl_server||null,r.playerParams.api_server=e.api_server||r.playerParams.api_server||null,r.playerParams.auth_ssl_server=e.auth_ssl_server||r.playerParams.auth_ssl_server||null,r.playerParams.auth_server=e.auth_server||r.playerParams.auth_server||null,r.playerParams.analytics_ssl_server=e.analytics_ssl_server||r.playerParams.analytics_ssl_server||null,r.playerParams.analytics_server=e.analytics_server||r.playerParams.analytics_server||null,l()};var t,i,a,o,s,l=function(){r.SERVER={API:r.isSSL?r.playerParams.api_ssl_server||"https://player.ooyala.com":r.playerParams.api_server||"http://player.ooyala.com",AUTH:r.isSSL?r.playerParams.auth_ssl_server||"https://player.ooyala.com/sas":r.playerParams.auth_server||"http://player.ooyala.com/sas",ANALYTICS:r.isSSL?r.playerParams.analytics_ssl_server||"https://player.ooyala.com":r.playerParams.analytics_server||"http://player.ooyala.com"}};r.playerParams.tweaks=r.playerParams.tweaks||"",r.playerParams.tweaks=n.safeString("environment.playerParams.tweaks",r.playerParams.tweaks,""),r.playerParams.tweaks=r.playerParams.tweaks.split(","),r.tweaks={},r.tweaks["android-enable-hls"]=e.contains(r.playerParams.tweaks,"android-enable-hls"),r.tweaks["html5-force-mp4"]=e.contains(r.playerParams.tweaks,"html5-force-mp4"),r.playerParams.maxAdsTimeout=r.playerParams.maxAdsTimeout||5,r.playerParams.maxVastWrapperDepth=r.playerParams.maxVastWrapperDepth||3,r.playerParams.minLiveSeekWindow=r.playerParams.minLiveSeekWindow||10,r.guid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)}),r.playerCount=0,r.isProd=!(!r.playerParams.environment||!r.playerParams.environment.match(/^prod/i)),r.platform=window.navigator.platform,r.os=window.navigator.appVersion,r.supportsVideo=!!document.createElement("video").canPlayType,r.browserSupportsCors=function(){try{return e.has(new XMLHttpRequest,"withCredentials")||e.has(XMLHttpRequest.prototype,"withCredentials")}catch(e){return!1}}(),r.isWindows=!!r.platform.match(/Win/),r.isIos=!!r.platform.match(/iPhone|iPad|iPod/),r.isIphone=!!r.platform.match(/iPhone|iPod/),r.isIpad=!!r.platform.match(/iPad/),r.iosMajorVersion=function(){try{return r.isIos?parseInt(window.navigator.userAgent.match(/OS (\d+)/)[1],10):null}catch(e){return null}}(),r.isAndroid=!(!r.os.match(/Android/)||r.os.match(/Windows Phone/)),r.isAndroid4Plus=((t=r.os.match(/Android [\d\.]*;/))&&0<t.length&&(t=parseInt(t[0].substring(t[0].indexOf(" ")+1,t[0].search("[.;]")))),r.isAndroid&&4<=t),r.isAndroid4_4Plus=function(){var e=!1;if(r.isAndroid){var n=r.os.match(/Android [\d\.]*;/);if(n&&n.length){var t=n[0].toLowerCase().match(/android\s([0-9\.]*)/)[1];e=4.3<parseFloat(t)}}return e}(),r.isRimDevice=!(!r.os.match(/BlackBerry/)&&!r.os.match(/PlayBook/)),r.isFirefox=!!window.navigator.userAgent.match(/Firefox/),r.isChrome=!!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/Edge/),r.isSafari=!!window.navigator.userAgent.match(/AppleWebKit/)&&!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/like iPhone/),r.chromeMajorVersion=function(){try{return parseInt(window.navigator.userAgent.match(/Chrome.([0-9]*)/)[1],10)}catch(e){return null}}(),r.isIE=!!window.navigator.userAgent.match(/MSIE/)||!!window.navigator.userAgent.match(/Trident/),r.isEdge=!!window.navigator.userAgent.match(/Edge/),r.isIE11Plus=function(){if(!window.navigator.userAgent.match(/Trident/))return!1;var e=window.navigator.userAgent.match(/rv:(\d*)/);return 11<=(e&&e[1])}(),r.isWinPhone=!!r.os.match(/Windows Phone/)||!!r.os.match(/ZuneWP/)||!!r.os.match(/XBLWP/),r.isSmartTV=!!window.navigator.userAgent.match(/SmartTV/)||!!window.navigator.userAgent.match(/NetCast/),r.isMacOs=!r.isIos&&!!r.os.match(/Mac/)&&!window.navigator.userAgent.match(/like iPhone/),r.isMacOsLionOrLater=!(null==(i=r.os.match(/Mac OS X ([0-9]+)_([0-9]+)/))||i.length<3)&&10<=parseInt(i[1],10)&&7<=parseInt(i[2],10),r.macOsSafariVersion=function(){try{return r.isMacOs&&r.isSafari?parseInt(window.navigator.userAgent.match(/Version\/(\d+)/)[1],10):null}catch(e){return null}}(),r.isKindleHD=!!r.os.match(/Silk\/2/),r.supportMSE="MediaSource"in window||"WebKitMediaSource"in window||"mozMediaSource"in window||"msMediaSource"in window,r.supportAds=!r.isWinPhone&&!r.os.match(/Android [23]/),r.allowGesture=r.isIos,r.allowAutoPlay=!r.isIos&&!r.isAndroid,r.supportTouch=!(!document.documentElement.hasOwnProperty||!document.documentElement.hasOwnProperty("ontouchstart")),r.docDomain=function(){var e=null;try{e=document.domain}catch(e){}return r._.isEmpty(e)?r.isSmartTV?"SmartTV":"unknown":e}(),r.uiParadigm=(a="tablet",r.isAndroid4Plus&&r.tweaks["android-enable-hls"]?a="tablet":r.isIphone?a="mobile-native":r.os.match(/BlackBerry/)?a="mobile-native":r.os.match(/iPad/)?a="tablet":r.isKindleHD?a="mobile-native":r.os.match(/Silk/)?a="mobile":r.os.match(/Android 2/)?window.orientation%180==0&&window.outerWidth/window.devicePixelRatio<=480?a="mobile":window.outerWidth/window.devicePixelRatio<=560&&(a="mobile"):r.os.match(/Android/)?a="tablet":r.isWinPhone?a="mobile":(r.platform.match(/Mac/)||r.platform.match(/Win/)||r.platform.match(/Linux/))&&(a="desktop"),a),r.requiresSingleVideoElement=r.isIos||r.isAndroid,r.supportedVideoProfiles=r.isIos||r.isAndroid?"baseline":null,r.device=(o="html5",r.isIphone?o="iphone-html5":r.isIpad?o="ipad-html5":r.isAndroid?o="android-html5":r.isRimDevice?o="rim-html5":r.isWinPhone?o="winphone-html5":r.isSmartTV&&(o="smarttv-html5"),o),r.environmentRequiredFeatures=(s=[],r.os.match(/Android 2/)?s.push("html5-playback"):(s.push("html5-playback"),r.supportAds&&s.push("ads")),e.reduce(s,function(e,n){return e+n+" "},"")),r.supportMidRollAds="desktop"===r.uiParadigm&&!r.isIos&&!r.isRimDevice,r.supportCookies=function(){document.cookie="ooyala_cookie_test=true";var e=0<=document.cookie.indexOf("ooyala_cookie_test=true");return document.cookie="ooyala_cookie_test=; expires=Thu, 01 Jan 1970 00:00:00 GMT",e}(),r.isSSL="https:"==document.location.protocol,l(),r.requiredInEnvironment=r.featureEnabled=function(e){return!!r.environmentRequiredFeatures.match(new RegExp(e))},r.chromeExtensionEnabled=!!document.getElementById("ooyala-extension-installed"),r.locale="",r.setLocale=function(e){r.locale=e.toUpperCase()},r.getLocale=function(){return(r.locale||document.documentElement.lang||navigator.language||navigator.userLanguage||"en").substr(0,2).toUpperCase()}}(OO,OO._,OO.HM)},{}],7:[function(e,n,t){!function(s,a,i){s.getRandomString=function(){return Math.random().toString(36).substring(7)},s.safeClone=function(e){if(a.isNumber(e)||a.isString(e)||a.isBoolean(e)||a.isFunction(e)||a.isNull(e)||a.isUndefined(e))return e;var n=e instanceof Array?[]:{};try{i.extend(!0,n,e)}catch(e){s.log("deep clone error",e)}return n},s.d=function(){s.isDebug&&s.log.apply(s,arguments),s.$("#OOYALA_DEBUG_CONSOLE").append(JSON.stringify(s.safeClone(arguments))+"<br>")},s.inherit=function(e,n){if("function"!=typeof e)return s.log("invalid inherit, ParentClass need to be a class",e),null;var t=function(){e.apply(this,arguments),"function"==typeof n&&n.apply(this,arguments)},r=new e;return s._.extend(t.prototype,r),t.prototype.parentClass=r,t};var r={};s.attachStyle=function(e,n){var t=i('<style type="text/css">'+e+"</style>").appendTo("head");r[n]=r[n]||[],r[n].push(t)},s.removeStyles=function(e){s._.each(r[e],function(e){e.remove()})},s.getInnerProperty=function(e,n){for(var t=e,r=n;0<r.length;){var i=r.shift();if(a.isNull(t)||!a.isObject(t)||a.isFunction(t)||a.isArray(t))return null;t=t[i]}return t},s.formatSeconds=function(e){var n=parseInt(e,10)%60,t=parseInt(e/3600,10),r=parseInt((e-3600*t)/60,10);return t<10&&(t="0"+t),r<10&&(r="0"+r),n<10&&(n="0"+n),0<parseInt(t,10)?t+":"+r+":"+n:r+":"+n},s.timeStringToSeconds=function(e){var n=(e||"").split(":");return a.reduce(n,function(e,n){return 60*e+parseInt(n,10)},0)},s.leftPadding=function(e,n){for(var t=e?e.toString():"";t.length<n;)t="0"+t;return t},s.getColorString=function(e){return"#"+s.leftPadding(e.toString(16),6).toUpperCase()},s.hexToRgb=function(e){return[(16711680&e)>>16,(65280&e)>>8,255&e]},s.changeColor=function(e,n,t){var r=t?Math.max:Math.min,i=t?0:255,a=Math.round(255*n)*(t?-1:1),o=s.hexToRgb(e);return[s.leftPadding(r(o[0]+a,i).toString(16),2),s.leftPadding(r(o[1]+a,i).toString(16),2),s.leftPadding(r(o[2]+a,i).toString(16),2)].join("")},s.decode64=function(e){e=e.replace(/\n/g,"");var n,t="",r=0,i=[];if(window.atob)return atob(e);do{for(n=0;n<4;n++)i[n]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++));t+=String.fromCharCode(i[0]<<2|i[1]>>4,64==i[2]?0:(15&i[1])<<4|i[2]>>2,64==i[3]?0:(3&i[2])<<6|i[3])}while(r<e.length);return t.replace(/\0/g,"")},s.pixelPing=function(e){var n=new Image;n.onerror=n.onabort=function(){s.d("onerror:",e)},n.src=s.getNormalizedTagUrl(e)},s.pixelPings=function(e){a.isEmpty(e)||a.each(e,function(e){s.pixelPing(e)},this)},s.stringToBoolean=function(e){return"string"==typeof e?-1<e.toLowerCase().indexOf("true")||-1<e.toLowerCase().indexOf("yes"):!!e},s.regexEscape=function(e){return e.replace(/[<>()\[\]{}]/g,"\\$&")},s.getNormalizedTagUrl=function(r,e){var n=(new Date).getTime(),t=escape(document.URL),i=function(e,t){a.each(e,function(e){var n=new RegExp("("+s.regexEscape(e)+")","gi");r=r.replace(n,t)},this)};return i(s.TEMPLATES.RANDOM_PLACE_HOLDER,n),i(s.TEMPLATES.REFERAK_PLACE_HOLDER,t),e&&i(s.TEMPLATES.EMBED_CODE_PLACE_HOLDER,e),r},s.safeSeekRange=function(e){return{start:0<e.length?e.start(0):0,end:0<e.length?e.end(0):0}},s.loadedJS=s.loadedJS||{},s.jsOnSuccessList=s.jsOnSuccessList||{},s.safeFuncCall=function(e){if("function"==typeof e)try{e.apply()}catch(e){s.log("Can not invoke function!",e)}},s.loadScriptOnce=function(e,n,t,r){return s.jsOnSuccessList[e]=s.jsOnSuccessList[e]||[],s.loadedJS[e]?("loaded"===s.loadedJS[e]?s.safeFuncCall(n):"loading"===s.loadedJS[e]&&s.jsOnSuccessList[e].unshift(n),!1):(s.loadedJS[e]="loading",i.ajax({url:e,type:"GET",cache:!0,dataType:"script",timeout:r||15e3,success:function(){s.loadedJS[e]="loaded",s.jsOnSuccessList[e].unshift(n),s._.each(s.jsOnSuccessList[e],function(e){s.safeFuncCall(e)},this),s.jsOnSuccessList[e]=[]},error:function(){s.safeFuncCall(t)}}),!0)};try{s.localStorage=window.localStorage}catch(e){s.log(e)}s.localStorage||(s.localStorage={getItem:function(e){return e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,n){e&&(document.cookie=escape(e)+"="+escape(n)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},s.localStorage.length=(document.cookie.match(/\=/g)||s.localStorage).length),s.setItem=function(e,n){try{s.localStorage.setItem(e,n)}catch(e){s.log(e)}},s.ensureNumber=function(e,n){var t;return(null===e||a.isArray(e))&&(e=NaN),t=a.isNumber(e)?e:Number(e),isFinite(t)?t:void 0===n?null:n},s.JSON=window.JSON}(OO,OO._,OO.$)},{}],8:[function(e,n,t){var r=function(a,e){var i=function(e){if(this.config=e||{},!a.isObject(this.config))throw new Error("Hazmat is not initialized properly");this.fail=a.isFunction(this.config.fail)?this.config.fail:i.fail,this.warn=a.isFunction(this.config.warn)?this.config.warn:i.warn,this.log=a.isFunction(this.config.log)?this.config.log:i.log};return a.extend(i,{ID_REGEX:/^[\_A-Za-z0-9]+$/,create:function(e){return new i(e)},noConflict:function(){return e.Hazmat=i.original,i},log:function(){console&&a.isFunction(console.log)&&console.log.apply(console,arguments)},fail:function(e,n){var t=e||"",r=n||{};throw i.log("Hazmat Failure::",t,r),new Error("Hazmat Failure "+t.toString())},warn:function(e,n){var t=e||"",r=n||{};i.log("Hazmat Warning::",t,r)},fixDomId:function(e){return a.isString(e)&&0<e.length?e.replace(/[^A-Za-z0-9\_]/g,""):null},isDomId:function(e){return a.isString(e)&&e.match(i.ID_REGEX)},__placeholder:!0}),a.extend(i.prototype,{_safeValue:function(e,n,t,r){var i=t;return a.isFunction(t)&&(t=a.once(function(){try{return i.apply(this,arguments)}catch(e){}})),r.checker(n)?n:r.evalFallback&&a.isFunction(t)&&r.checker(t(n))?(this.warn("Expected valid "+r.name+" for "+e+" but was able to sanitize it:",[n,t(n)]),t(n)):r.checker(i)?(this.warn("Expected valid "+r.name+" for "+e+" but was able to fallback to default value:",[n,i]),i):void this.fail("Expected valid "+r.name+" for "+e+" but received:",n)},safeString:function(e,n,t){return this._safeValue(e,n,t,{name:"String",checker:a.isString,evalFallback:!0})},safeStringOrNull:function(e,n,t){return null==n?n:this._safeValue(e,n,t,{name:"String",checker:a.isString,evalFallback:!0})},safeDomId:function(e,n,t){return this._safeValue(e,n,t,{name:"DOM ID",checker:i.isDomId,evalFallback:!0})},safeFunction:function(e,n,t){return this._safeValue(e,n,t,{name:"Function",checker:a.isFunction,evalFallback:!1})},safeFunctionOrNull:function(e,n,t){return null==n?n:this._safeValue(e,n,t,{name:"Function",checker:a.isFunction,evalFallback:!1})},safeObject:function(e,n,t){return this._safeValue(e,n,t,{name:"Object",checker:a.isObject,evalFallback:!1})},safeObjectOrNull:function(e,n,t){return null==n?n:this._safeValue(e,n,t,{name:"Object",checker:a.isObject,evalFallback:!1})},safeArray:function(e,n,t){return this._safeValue(e,n,t,{name:"Array",checker:a.isArray,evalFallback:!1})},safeArrayOfElements:function(e,n,t,r){var i=this._safeValue(e,n,r,{name:"Array",checker:a.isArray,evalFallback:!1});return a.map(i,t)},__placeholder:!0}),i};if("undefined"!=typeof window&&void 0!==window._){(a=r(window._,window)).original=window.Hazmat,window.Hazmat=a}else{var i=e("underscore"),a=r(i);i.extend(t,a)}},{underscore:9}],9:[function(e,J,Q){(function(z){!function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof z&&z.global===z&&z||this||{},n=e._,r=Array.prototype,o=Object.prototype,d="undefined"!=typeof Symbol?Symbol.prototype:null,i=r.push,l=r.slice,h=o.toString,a=o.hasOwnProperty,t=Array.isArray,s=Object.keys,u=Object.create,c=function(){},f=function(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)};void 0===Q||Q.nodeType?e._=f:(void 0!==J&&!J.nodeType&&J.exports&&(Q=J.exports=f),Q._=f),f.VERSION="1.9.1";var p,E=function(i,a,e){if(void 0===a)return i;switch(null==e?3:e){case 1:return function(e){return i.call(a,e)};case 3:return function(e,n,t){return i.call(a,e,n,t)};case 4:return function(e,n,t,r){return i.call(a,e,n,t,r)}}return function(){return i.apply(a,arguments)}},_=function(e,n,t){return f.iteratee!==p?f.iteratee(e,n):null==e?f.identity:f.isFunction(e)?E(e,n,t):f.isObject(e)&&!f.isArray(e)?f.matcher(e):f.property(e)};f.iteratee=p=function(e,n){return _(e,n,1/0)};var m=function(i,a){return a=null==a?i.length-1:+a,function(){for(var e=Math.max(arguments.length-a,0),n=Array(e),t=0;t<e;t++)n[t]=arguments[t+a];switch(a){case 0:return i.call(this,n);case 1:return i.call(this,arguments[0],n);case 2:return i.call(this,arguments[0],arguments[1],n)}var r=Array(a+1);for(t=0;t<a;t++)r[t]=arguments[t];return r[a]=n,i.apply(this,r)}},A=function(e){if(!f.isObject(e))return{};if(u)return u(e);c.prototype=e;var n=new c;return c.prototype=null,n},v=function(n){return function(e){return null==e?void 0:e[n]}},g=function(e,n){return null!=e&&a.call(e,n)},y=function(e,n){for(var t=n.length,r=0;r<t;r++){if(null==e)return;e=e[n[r]]}return t?e:void 0},S=Math.pow(2,53)-1,I=v("length"),O=function(e){var n=I(e);return"number"==typeof n&&0<=n&&n<=S};f.each=f.forEach=function(e,n,t){var r,i;if(n=E(n,t),O(e))for(r=0,i=e.length;r<i;r++)n(e[r],r,e);else{var a=f.keys(e);for(r=0,i=a.length;r<i;r++)n(e[a[r]],a[r],e)}return e},f.map=f.collect=function(e,n,t){n=_(n,t);for(var r=!O(e)&&f.keys(e),i=(r||e).length,a=Array(i),o=0;o<i;o++){var s=r?r[o]:o;a[o]=n(e[s],s,e)}return a};var T=function(l){return function(e,n,t,r){var i=3<=arguments.length;return function(e,n,t,r){var i=!O(e)&&f.keys(e),a=(i||e).length,o=0<l?0:a-1;for(r||(t=e[i?i[o]:o],o+=l);0<=o&&o<a;o+=l){var s=i?i[o]:o;t=n(t,e[s],s,e)}return t}(e,E(n,r,4),t,i)}};f.reduce=f.foldl=f.inject=T(1),f.reduceRight=f.foldr=T(-1),f.find=f.detect=function(e,n,t){var r=(O(e)?f.findIndex:f.findKey)(e,n,t);if(void 0!==r&&-1!==r)return e[r]},f.filter=f.select=function(e,r,n){var i=[];return r=_(r,n),f.each(e,function(e,n,t){r(e,n,t)&&i.push(e)}),i},f.reject=function(e,n,t){return f.filter(e,f.negate(_(n)),t)},f.every=f.all=function(e,n,t){n=_(n,t);for(var r=!O(e)&&f.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(!n(e[o],o,e))return!1}return!0},f.some=f.any=function(e,n,t){n=_(n,t);for(var r=!O(e)&&f.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(n(e[o],o,e))return!0}return!1},f.contains=f.includes=f.include=function(e,n,t,r){return O(e)||(e=f.values(e)),("number"!=typeof t||r)&&(t=0),0<=f.indexOf(e,n,t)},f.invoke=m(function(e,t,r){var i,a;return f.isFunction(t)?a=t:f.isArray(t)&&(i=t.slice(0,-1),t=t[t.length-1]),f.map(e,function(e){var n=a;if(!n){if(i&&i.length&&(e=y(e,i)),null==e)return;n=e[t]}return null==n?n:n.apply(e,r)})}),f.pluck=function(e,n){return f.map(e,f.property(n))},f.where=function(e,n){return f.filter(e,f.matcher(n))},f.findWhere=function(e,n){return f.find(e,f.matcher(n))},f.max=function(e,r,n){var t,i,a=-1/0,o=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=O(e)?e:f.values(e)).length;s<l;s++)null!=(t=e[s])&&a<t&&(a=t);else r=_(r,n),f.each(e,function(e,n,t){i=r(e,n,t),(o<i||i===-1/0&&a===-1/0)&&(a=e,o=i)});return a},f.min=function(e,r,n){var t,i,a=1/0,o=1/0;if(null==r||"number"==typeof r&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=O(e)?e:f.values(e)).length;s<l;s++)null!=(t=e[s])&&t<a&&(a=t);else r=_(r,n),f.each(e,function(e,n,t){((i=r(e,n,t))<o||i===1/0&&a===1/0)&&(a=e,o=i)});return a},f.shuffle=function(e){return f.sample(e,1/0)},f.sample=function(e,n,t){if(null==n||t)return O(e)||(e=f.values(e)),e[f.random(e.length-1)];var r=O(e)?f.clone(e):f.values(e),i=I(r);n=Math.max(Math.min(n,i),0);for(var a=i-1,o=0;o<n;o++){var s=f.random(o,a),l=r[o];r[o]=r[s],r[s]=l}return r.slice(0,n)},f.sortBy=function(e,r,n){var i=0;return r=_(r,n),f.pluck(f.map(e,function(e,n,t){return{value:e,index:i++,criteria:r(e,n,t)}}).sort(function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(r<t||void 0===t)return 1;if(t<r||void 0===r)return-1}return e.index-n.index}),"value")};var D=function(o,n){return function(r,i,e){var a=n?[[],[]]:{};return i=_(i,e),f.each(r,function(e,n){var t=i(e,n,r);o(a,e,t)}),a}};f.groupBy=D(function(e,n,t){g(e,t)?e[t].push(n):e[t]=[n]}),f.indexBy=D(function(e,n,t){e[t]=n}),f.countBy=D(function(e,n,t){g(e,t)?e[t]++:e[t]=1});var L=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;f.toArray=function(e){return e?f.isArray(e)?l.call(e):f.isString(e)?e.match(L):O(e)?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:O(e)?e.length:f.keys(e).length},f.partition=D(function(e,n,t){e[t?0:1].push(n)},!0),f.first=f.head=f.take=function(e,n,t){return null==e||e.length<1?null==n?void 0:[]:null==n||t?e[0]:f.initial(e,e.length-n)},f.initial=function(e,n,t){return l.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},f.last=function(e,n,t){return null==e||e.length<1?null==n?void 0:[]:null==n||t?e[e.length-1]:f.rest(e,Math.max(0,e.length-n))},f.rest=f.tail=f.drop=function(e,n,t){return l.call(e,null==n||t?1:n)},f.compact=function(e){return f.filter(e,Boolean)};var C=function(e,n,t,r){for(var i=(r=r||[]).length,a=0,o=I(e);a<o;a++){var s=e[a];if(O(s)&&(f.isArray(s)||f.isArguments(s)))if(n)for(var l=0,u=s.length;l<u;)r[i++]=s[l++];else C(s,n,t,r),i=r.length;else t||(r[i++]=s)}return r};f.flatten=function(e,n){return C(e,n,!1)},f.without=m(function(e,n){return f.difference(e,n)}),f.uniq=f.unique=function(e,n,t,r){f.isBoolean(n)||(r=t,t=n,n=!1),null!=t&&(t=_(t,r));for(var i=[],a=[],o=0,s=I(e);o<s;o++){var l=e[o],u=t?t(l,o,e):l;n&&!t?(o&&a===u||i.push(l),a=u):t?f.contains(a,u)||(a.push(u),i.push(l)):f.contains(i,l)||i.push(l)}return i},f.union=m(function(e){return f.uniq(C(e,!0,!0))}),f.intersection=function(e){for(var n=[],t=arguments.length,r=0,i=I(e);r<i;r++){var a=e[r];if(!f.contains(n,a)){var o;for(o=1;o<t&&f.contains(arguments[o],a);o++);o===t&&n.push(a)}}return n},f.difference=m(function(e,n){return n=C(n,!0,!0),f.filter(e,function(e){return!f.contains(n,e)})}),f.unzip=function(e){for(var n=e&&f.max(e,I).length||0,t=Array(n),r=0;r<n;r++)t[r]=f.pluck(e,r);return t},f.zip=m(f.unzip),f.object=function(e,n){for(var t={},r=0,i=I(e);r<i;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t};var N=function(a){return function(e,n,t){n=_(n,t);for(var r=I(e),i=0<a?0:r-1;0<=i&&i<r;i+=a)if(n(e[i],i,e))return i;return-1}};f.findIndex=N(1),f.findLastIndex=N(-1),f.sortedIndex=function(e,n,t,r){for(var i=(t=_(t,r,1))(n),a=0,o=I(e);a<o;){var s=Math.floor((a+o)/2);t(e[s])<i?a=s+1:o=s}return a};var R=function(a,o,s){return function(e,n,t){var r=0,i=I(e);if("number"==typeof t)0<a?r=0<=t?t:Math.max(t+i,r):i=0<=t?Math.min(t+1,i):t+i+1;else if(s&&t&&i)return e[t=s(e,n)]===n?t:-1;if(n!=n)return 0<=(t=o(l.call(e,r,i),f.isNaN))?t+r:-1;for(t=0<a?r:i-1;0<=t&&t<i;t+=a)if(e[t]===n)return t;return-1}};f.indexOf=R(1,f.findIndex,f.sortedIndex),f.lastIndexOf=R(-1,f.findLastIndex),f.range=function(e,n,t){null==n&&(n=e||0,e=0),t||(t=n<e?-1:1);for(var r=Math.max(Math.ceil((n-e)/t),0),i=Array(r),a=0;a<r;a++,e+=t)i[a]=e;return i},f.chunk=function(e,n){if(null==n||n<1)return[];for(var t=[],r=0,i=e.length;r<i;)t.push(l.call(e,r,r+=n));return t};var P=function(e,n,t,r,i){if(!(r instanceof n))return e.apply(t,i);var a=A(e.prototype),o=e.apply(a,i);return f.isObject(o)?o:a};f.bind=m(function(n,t,r){if(!f.isFunction(n))throw new TypeError("Bind must be called on a function");var i=m(function(e){return P(n,i,t,this,r.concat(e))});return i}),f.partial=m(function(i,a){var o=f.partial.placeholder,s=function(){for(var e=0,n=a.length,t=Array(n),r=0;r<n;r++)t[r]=a[r]===o?arguments[e++]:a[r];for(;e<arguments.length;)t.push(arguments[e++]);return P(i,s,this,this,t)};return s}),(f.partial.placeholder=f).bindAll=m(function(e,n){var t=(n=C(n,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var r=n[t];e[r]=f.bind(e[r],e)}}),f.memoize=function(r,i){var a=function(e){var n=a.cache,t=""+(i?i.apply(this,arguments):e);return g(n,t)||(n[t]=r.apply(this,arguments)),n[t]};return a.cache={},a},f.delay=m(function(e,n,t){return setTimeout(function(){return e.apply(null,t)},n)}),f.defer=f.partial(f.delay,f,1),f.throttle=function(t,r,i){var a,o,s,l,u=0;i||(i={});var c=function(){u=!1===i.leading?0:f.now(),a=null,l=t.apply(o,s),a||(o=s=null)},e=function(){var e=f.now();u||!1!==i.leading||(u=e);var n=r-(e-u);return o=this,s=arguments,n<=0||r<n?(a&&(clearTimeout(a),a=null),u=e,l=t.apply(o,s),a||(o=s=null)):a||!1===i.trailing||(a=setTimeout(c,n)),l};return e.cancel=function(){clearTimeout(a),u=0,a=o=s=null},e},f.debounce=function(t,r,i){var a,o,s=function(e,n){a=null,n&&(o=t.apply(e,n))},e=m(function(e){if(a&&clearTimeout(a),i){var n=!a;a=setTimeout(s,r),n&&(o=t.apply(this,e))}else a=f.delay(s,r,this,e);return o});return e.cancel=function(){clearTimeout(a),a=null},e},f.wrap=function(e,n){return f.partial(n,e)},f.negate=function(e){return function(){return!e.apply(this,arguments)}},f.compose=function(){var t=arguments,r=t.length-1;return function(){for(var e=r,n=t[r].apply(this,arguments);e--;)n=t[e].call(this,n);return n}},f.after=function(e,n){return function(){if(--e<1)return n.apply(this,arguments)}},f.before=function(e,n){var t;return function(){return 0<--e&&(t=n.apply(this,arguments)),e<=1&&(n=null),t}},f.once=f.partial(f.before,2),f.restArguments=m;var b=!{toString:null}.propertyIsEnumerable("toString"),w=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],k=function(e,n){var t=w.length,r=e.constructor,i=f.isFunction(r)&&r.prototype||o,a="constructor";for(g(e,a)&&!f.contains(n,a)&&n.push(a);t--;)(a=w[t])in e&&e[a]!==i[a]&&!f.contains(n,a)&&n.push(a)};f.keys=function(e){if(!f.isObject(e))return[];if(s)return s(e);var n=[];for(var t in e)g(e,t)&&n.push(t);return b&&k(e,n),n},f.allKeys=function(e){if(!f.isObject(e))return[];var n=[];for(var t in e)n.push(t);return b&&k(e,n),n},f.values=function(e){for(var n=f.keys(e),t=n.length,r=Array(t),i=0;i<t;i++)r[i]=e[n[i]];return r},f.mapObject=function(e,n,t){n=_(n,t);for(var r=f.keys(e),i=r.length,a={},o=0;o<i;o++){var s=r[o];a[s]=n(e[s],s,e)}return a},f.pairs=function(e){for(var n=f.keys(e),t=n.length,r=Array(t),i=0;i<t;i++)r[i]=[n[i],e[n[i]]];return r},f.invert=function(e){for(var n={},t=f.keys(e),r=0,i=t.length;r<i;r++)n[e[t[r]]]=t[r];return n},f.functions=f.methods=function(e){var n=[];for(var t in e)f.isFunction(e[t])&&n.push(t);return n.sort()};var M=function(l,u){return function(e){var n=arguments.length;if(u&&(e=Object(e)),n<2||null==e)return e;for(var t=1;t<n;t++)for(var r=arguments[t],i=l(r),a=i.length,o=0;o<a;o++){var s=i[o];u&&void 0!==e[s]||(e[s]=r[s])}return e}};f.extend=M(f.allKeys),f.extendOwn=f.assign=M(f.keys),f.findKey=function(e,n,t){n=_(n,t);for(var r,i=f.keys(e),a=0,o=i.length;a<o;a++)if(n(e[r=i[a]],r,e))return r};var V,x,F=function(e,n,t){return n in t};f.pick=m(function(e,n){var t={},r=n[0];if(null==e)return t;f.isFunction(r)?(1<n.length&&(r=E(r,n[1])),n=f.allKeys(e)):(r=F,n=C(n,!1,!1),e=Object(e));for(var i=0,a=n.length;i<a;i++){var o=n[i],s=e[o];r(s,o,e)&&(t[o]=s)}return t}),f.omit=m(function(e,t){var n,r=t[0];return f.isFunction(r)?(r=f.negate(r),1<t.length&&(n=t[1])):(t=f.map(C(t,!1,!1),String),r=function(e,n){return!f.contains(t,n)}),f.pick(e,r,n)}),f.defaults=M(f.allKeys,!0),f.create=function(e,n){var t=A(e);return n&&f.extendOwn(t,n),t},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,n){return n(e),e},f.isMatch=function(e,n){var t=f.keys(n),r=t.length;if(null==e)return!r;for(var i=Object(e),a=0;a<r;a++){var o=t[a];if(n[o]!==i[o]||!(o in i))return!1}return!0},V=function(e,n,t,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var i=typeof e;return("function"===i||"object"===i||"object"==typeof n)&&x(e,n,t,r)},x=function(e,n,t,r){e instanceof f&&(e=e._wrapped),n instanceof f&&(n=n._wrapped);var i=h.call(e);if(i!==h.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return d.valueOf.call(e)===d.valueOf.call(n)}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof n)return!1;var o=e.constructor,s=n.constructor;if(o!==s&&!(f.isFunction(o)&&o instanceof o&&f.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in n)return!1}r=r||[];for(var l=(t=t||[]).length;l--;)if(t[l]===e)return r[l]===n;if(t.push(e),r.push(n),a){if((l=e.length)!==n.length)return!1;for(;l--;)if(!V(e[l],n[l],t,r))return!1}else{var u,c=f.keys(e);if(l=c.length,f.keys(n).length!==l)return!1;for(;l--;)if(u=c[l],!g(n,u)||!V(e[u],n[u],t,r))return!1}return t.pop(),r.pop(),!0},f.isEqual=function(e,n){return V(e,n)},f.isEmpty=function(e){return null==e||(O(e)&&(f.isArray(e)||f.isString(e)||f.isArguments(e))?0===e.length:0===f.keys(e).length)},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=t||function(e){return"[object Array]"===h.call(e)},f.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},f.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(n){f["is"+n]=function(e){return h.call(e)==="[object "+n+"]"}}),f.isArguments(arguments)||(f.isArguments=function(e){return g(e,"callee")});var U=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof U&&(f.isFunction=function(e){return"function"==typeof e||!1}),f.isFinite=function(e){return!f.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&isNaN(e)},f.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,n){if(!f.isArray(n))return g(e,n);for(var t=n.length,r=0;r<t;r++){var i=n[r];if(null==e||!a.call(e,i))return!1;e=e[i]}return!!t},f.noConflict=function(){return e._=n,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.noop=function(){},f.property=function(n){return f.isArray(n)?function(e){return y(e,n)}:v(n)},f.propertyOf=function(n){return null==n?function(){}:function(e){return f.isArray(e)?y(n,e):n[e]}},f.matcher=f.matches=function(n){return n=f.extendOwn({},n),function(e){return f.isMatch(e,n)}},f.times=function(e,n,t){var r=Array(Math.max(0,e));n=E(n,t,1);for(var i=0;i<e;i++)r[i]=n(i);return r},f.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},f.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=f.invert(H),G=function(n){var t=function(e){return n[e]},e="(?:"+f.keys(n).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};f.escape=G(H),f.unescape=G(j),f.result=function(e,n,t){f.isArray(n)||(n=[n]);var r=n.length;if(!r)return f.isFunction(t)?t.call(e):t;for(var i=0;i<r;i++){var a=null==e?void 0:e[n[i]];void 0===a&&(a=t,i=r),e=f.isFunction(a)?a.call(e):a}return e};var Y=0;f.uniqueId=function(e){var n=++Y+"";return e?e+n:n},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+W[e]};f.template=function(a,e,n){!e&&n&&(e=n),e=f.defaults({},e,f.templateSettings);var t,r=RegExp([(e.escape||B).source,(e.interpolate||B).source,(e.evaluate||B).source].join("|")+"|$","g"),o=0,s="__p+='";a.replace(r,function(e,n,t,r,i){return s+=a.slice(o,i).replace(K,q),o=i+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":t?s+="'+\n((__t=("+t+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{t=new Function(e.variable||"obj","_",s)}catch(e){throw e.source=s,e}var i=function(e){return t.call(this,e,f)},l=e.variable||"obj";return i.source="function("+l+"){\n"+s+"}",i},f.chain=function(e){var n=f(e);return n._chain=!0,n};var X=function(e,n){return e._chain?f(n).chain():n};f.mixin=function(t){return f.each(f.functions(t),function(e){var n=f[e]=t[e];f.prototype[e]=function(){var e=[this._wrapped];return i.apply(e,arguments),X(this,n.apply(f,e))}}),f},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=r[n];f.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!==n&&"splice"!==n||0!==e.length||delete e[0],X(this,e)}}),f.each(["concat","join","slice"],function(e){var n=r[e];f.prototype[e]=function(){return X(this,n.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,n,t){"use strict";e("../html5-common/js/utils/InitModules/InitOO.js"),e("../html5-common/js/utils/InitModules/InitOOUnderscore.js"),e("../html5-common/js/utils/InitModules/InitOOHazmat.js"),e("../html5-common/js/utils/InitModules/InitOOPlayerParamsDefault.js"),e("../html5-common/js/utils/constants.js"),e("../html5-common/js/utils/utils.js"),e("../html5-common/js/utils/environment.js");var W=e("../utils/vast_parser.js"),K=e("../utils/ad_manager_utils.js");OO.Ads.manager(function(Y,B){return new function(){this.name="ooyala-ssai-ads-manager",this.ready=!1,this.initTime=Date.now(),this.videoRestrictions={},this.testMode=!1,this.timeLine={},this.currentEmbed="",this.domainName="ssai.ooyala.com",this.ssaiGuid="",this.vastParser=new W(B);var o=this.currentAd=null,a=null,s=!1,l=!1,r=!1,i=-1,u="",c="";this.adIdDictionary={},this.currentId3Object=null;var d={AD_ID:"adid",TIME:"t",DURATION:"d"},t={25:["firstQuartile"],50:["midpoint"],75:["thirdQuartile"],100:["complete"]},n={vhls:"vai",hls:"ai"},h="waiting",f="error",p=!0;this.initialize=function(e,n){(o=e).willRequireEmbedCodeMetadata(),o.addPlayerListener(o.EVENTS.CONTENT_CHANGED,Y.bind(v,this)),o.addPlayerListener(o.EVENTS.CONTENT_URL_CHANGED,Y.bind(this.onContentUrlChanged,this)),o.addPlayerListener(o.EVENTS.PLAYHEAD_TIME_CHANGED,Y.bind(this.onPlayheadTimeChanged,this)),o.addPlayerListener(o.EVENTS.VIDEO_TAG_FOUND,Y.bind(this.onVideoTagFound,this)),o.addPlayerListener(o.EVENTS.REPLAY_REQUESTED,Y.bind(this.onReplay,this)),o.addPlayerListener(o.EVENTS.FULLSCREEN_CHANGED,Y.bind(this.onFullscreenChanged,this)),o.addPlayerListener(o.EVENTS.AD_VOLUME_CHANGED,Y.bind(this.onAdVolumeChanged,this)),o.addPlayerListener(o.EVENTS.MUTE_STATE_CHANGED,Y.bind(this.onMuteStateChanged,this))},this.registerUi=function(){},this.loadMetadata=function(e,n,t){this.ready=!0,this.timeline={},l=!1,o.reportPluginLoaded(Date.now()-this.initTime,this.name),e&&(Y.isBoolean(e.cacheBuster)?p=e.cacheBuster:"true"===e.cacheBuster?p=!0:"false"===e.cacheBuster?p=!1:OO.log('Ooyala Pulse: page level parameter: "cacheBuster" expected value: "true" or "false", but value received was: '+e.cacheBuster))},this.buildTimeline=function(){return null},this.onPlayheadTimeChanged=function(e,n,t,r){var i=0;o.isLiveStream||t&&Y.isNumber(t)&&0<t&&(i=t-n),o.isLiveStream&&r&&Y.isNumber(r)&&t&&Y.isNumber(t)&&0<r&&r<t&&(i=t-r),Y.isFinite(i)&&0<=i&&(a=i)},this.playAd=function(e,n,t,r,i){e&&(s=!0,(this.currentAd=e).ad&&e.ad.data&&e.ad.data.id&&(this.adIdDictionary[e.ad.data.id].curAdId=e.id,P(this.currentAd,["impression","start"]),e.duration&&!Y.isNumber(e.duration)&&(e.duration=0),o.notifyLinearAdStarted(e.id,{name:e.ad.name,hasClickUrl:!0,duration:e.duration,ssai:e.ad.ssai,isLive:e.ad.isLive})))},this.cancelAd=function(e,n){},this.pauseAd=function(e){s&&(P(this.currentAd,["pause"]),e&&e.ad&&e.ad.data&&this.adIdDictionary[e.ad.data.id]&&clearTimeout(this.adIdDictionary[e.ad.data.id].adTimer))},this.resumeAd=function(e){s&&(P(this.currentAd,["resume"]),e&&e.ad&&e.ad.data&&this.adIdDictionary[e.ad.data.id]&&Y.isFinite(e.duration)&&(this.adIdDictionary[e.ad.data.id].adTimer=Y.delay(G(null,e.ad.data.id),1e3*e.duration)))},this.showOverlay=function(){},this.playerClicked=function(e,n){e&&e.ad&&(P(e,["linearClickTracking"]),window.open(e.ad.clickthrough))},this.adVideoPlaying=function(){},this.onContentUrlChanged=function(e,n){u=g(n),y(n),o.updateMainStreamUrl(u),u=T(u)},this.onVideoTagFound=function(e,n,t,r){if(!o.isLiveStream&&!a)return null;var i=C(r);return i&&(i.time<100?o.notifySSAIAdPlaying(i):100===i.time&&o.notifySSAIAdPlayed(),o.isLiveStream||l||(this.testMode||L(),l=!0),c=S(c=u,i.adId),Y.has(this.adIdDictionary,i.adId)?Y.has(this.adIdDictionary,i.adId)&&!this.adIdDictionary[i.adId].state&&(clearTimeout(this.adIdDictionary[i.adId].adTimer),this.adIdDictionary[i.adId].state=h,this.adIdDictionary[i.adId].adTimer=Y.delay(G(null,i.adId),1e3*i.duration),A(i,this.adIdDictionary[i.adId].vastData)):(this.adIdDictionary[i.adId]={state:h,adTimer:Y.delay(G(null,i.adId),1e3*i.duration)},E(i)),this.adIdDictionary[i.adId].state!==f&&j(i),Y.has(this.adIdDictionary,i.adId)&&O(i.time)&&G(this.adIdDictionary[i.adId].adTimer,i.adId)()),i},this.onReplay=function(){a=0,this.currentAd=null};var E=Y.bind(function(e){this.testMode?this.onResponse(e,null):D(c,e)},this);this.onResponse=function(e,n){OO.log("Ooyala SSAI: Response");var t=this.vastParser.parser(n),r=x(t),i=_(e,r);A(e,i),j(e)},this.onMetadataResponse=function(e){this.timeline=e,o.notifySSAIAdTimelineReceived(this.timeline)};var _=function(e,n){if(Y.has(n,e.adId))return n[e.adId]},m=Y.bind(function(e,n){this.adIdDictionary[e.adId]&&(this.adIdDictionary[e.adId].vastData=n)},this),A=Y.bind(function(e,n){if(n&&e){var t=((a={clickthrough:"",name:"",ssai:!0,isLive:!0}).data=i=n,a.clickthrough=V(i),a.name=M(i),a);if(m(e,n),0!=e.time){var r=e.time*e.duration/100;e.duration=e.duration-r}}var i,a;o.forceAdToPlay(this.name,t,o.ADTYPE.LINEAR_VIDEO,{},e.duration)},this);this.onRequestError=function(e){OO.log("Ooyala SSAI: Error"),Y.isObject(e)&&Y.has(this.adIdDictionary,e.adId)&&(this.adIdDictionary[e.adId].state=f,this.currentAd=null)},this.onMetadataError=function(e,n){if(OO.log("SSAI Metadata Request: Error"+JSON.stringify(n)),null!==n){var t=n.status,r=n.responseText;o.raiseApiError(t,r,e)}},this.onFullscreenChanged=function(e,n){s&&(n?P(this.currentAd,["fullscreen"]):n||P(this.currentAd,["exitFullscreen"]))},this.onAdVolumeChanged=function(e,n){var t=[];0===n&&n!==i?(i=n,t=["mute"]):0<n&&0===i&&(i=n,t=["unmute"]),s&&P(this.currentAd,t)},this.onMuteStateChanged=function(e,n){var t=[];0!==i&&(r||!0!==n?r&&!1===n&&(r=!1,t=["unmute"]):(r=!0,t=["mute"]),s&&P(this.currentAd,t))},this.adVideoError=function(e,n){},this.destroy=function(){this.ready=!1,this.currentAd=null,this.adIdDictionary={},e()};var v=function(){a=0};this.getBustTheCache=Y.bind(function(){return p},this);var g=Y.bind(function(e){return I(e,"oosm=1")},this),y=Y.bind(function(e){if("string"==typeof e){var n=e.split("?");if(null!==n){var t=n[1],r=n[0].split("/");null!==r&&(this.domainName=r[2],this.currentEmbed=r[4]);var i=t.split("&");if(null!==i)for(var a=0;a<i.length;a++){var o=i[a].split("=");if(null!==o&&"ssai_guid"===o[0])return void(this.ssaiGuid=o[1])}}}},this),S=Y.bind(function(e,n){var t=I(e,"offset="+a);return t=I(t,"aid="+n)},this),I=function(e,n){return Y.isString(e)&&Y.isString(n)?-1<e.indexOf("?")?e+"&"+n:e+"?"+n:e},O=function(e){return 100===e},T=Y.bind(function(e){return e.replace(/vhls|hls/gi,function(e){return n[e]})},this),D=Y.bind(function(e,n){B.ajax({url:e,type:"GET",beforeSend:function(e){e.withCredentials=!1},dataType:"xml",crossDomain:!0,cache:!1,success:Y.bind(this.onResponse,this,n),error:Y.bind(this.onRequestError,this,n)})},this),L=Y.bind(function(){var e="http://"+this.domainName+"/v1/metadata/"+this.currentEmbed+"?ssai_guid="+this.ssaiGuid;B.ajax({url:e,type:"GET",beforeSend:function(e){e.withCredentials=!1},dataType:"json",crossDomain:!0,cache:!1,success:Y.bind(this.onMetadataResponse,this),error:Y.bind(this.onMetadataError,this,e)})},this),C=Y.bind(function(e){var n=null;if(e)if(Y.has(e,"TXXX")){var t=e.TXXX;n=N(t)}else OO.log("Ooyala SSAI: Expected ID3 Metadata Object to have a 'TXXX' property");return n},this),N=Y.bind(function(e){var n=null;if(e){n={};var t=e.split("&");if(3===t.length)for(var r=0;r<t.length;r++){var i=t[r].split("="),a=i[0],o=i[1];if(a===d.AD_ID)n.adId=o;else if(a===d.TIME)n.time=parseFloat(o);else{if(a!==d.DURATION){OO.log("Ooyala SSAI: "+a+" is an unrecognized query parameter.\nRecognized query parameters: "+R()),n=null;break}n.duration=parseFloat(o)}}else OO.log("Ooyala SSAI: ID3 Metadata String contains"+t.length+"query parameters, but was expected to contain 3 query parameters: "+R()),n=null}return n},this),R=Y.bind(function(){var n="";return Y.each(Y.values(d),function(e){n=n+e+", "}),n=n.slice(0,-2)},this),P=(Y.bind(function(e){o.forceAdToPlay(this.name,{clickthrough:"http://www.google.com",name:"Test SSAI Ad",ssai:!0,isLive:!0},o.ADTYPE.LINEAR_VIDEO,{},e.duration)},this),function(r,e){r?Y.each(e,function(e){var n;switch(e){case"impression":n=b(r);break;case"linearClickTracking":n=w(r);break;default:n=k(r,e)}var t={};t[e]=n,U(t)}):console.log("Ooyala SSAI: Tried to ping URLs: ["+e+"] but ad object passed in was: "+r)}),b=function(e){var n=null;return e&&e.ad&&e.ad.data&&e.ad.data.impression&&0<e.ad.data.impression.length&&(n=e.ad.data.impression),n},w=function(e){var n=null;return e&&e.ad&&e.ad.data&&e.ad.data.linear&&e.ad.data.linear.clickTracking&&0<e.ad.data.linear.clickTracking.length&&(n=e.ad.data.linear.clickTracking),n},k=function(e,n){var t=null;return e&&e.ad&&e.ad.data&&e.ad.data.linear&&e.ad.data.linear.tracking&&e.ad.data.linear.tracking[n]&&0<e.ad.data.linear.tracking[n].length&&(t=e.ad.data.linear.tracking[n]),t},M=function(e){var n=null;return e&&e.title&&(n=e.title),n},V=function(e){var n=null;return e&&e.linear&&e.linear.clickThrough&&(n=e.linear.clickThrough),n},x=Y.bind(function(e){var n={};if(e){if(e.podded&&0<e.podded.length)for(var t=0;t<e.podded.length;t++)(r=e.podded[t])&&r.id&&(n[r.id]=r);if(e.standalone&&0<e.standalone.length)for(t=0;t<e.standalone.length;t++){var r;(r=e.standalone[t])&&r.id&&(n[r.id]=r)}}return n},this),F=Y.bind(function(e){var n=null;return e&&e.linear&&e.linear.duration&&(n=e.linear.duration),n},this);this.getCurrentOffset=Y.bind(function(){return a},this),this.setCurrentOffset=function(e){a=e};Y.bind(function(e,n){var t=20,r=F(n);return r=K.convertTimeStampToMilliseconds(r)/1e3,e&&0<e.duration?t=e.duration:0<r&&(t=r),t},this);var U=Y.bind(function(e){for(var n in e)if(e.hasOwnProperty(n))try{var t=e[n];t?(p&&(t=H(t)),OO.pixelPings(t),OO.log('Ooyala SSAI: "'+n+'" tracking URLs pinged')):OO.log('Ooyala SSAI: No "'+n+'" tracking URLs provided to ping')}catch(e){OO.log('Ooyala SSAI: Failed to ping "'+n+'" tracking URLs'),o&&o.raiseAdError(e)}},this),H=Y.bind(function(e){for(var n=0;n<e.length;n++){var t=encodeURIComponent("[CACHEBUSTING]"),r=new RegExp(t,"i"),i=OO.getRandomString();e[n]=e[n].replace(r,i)}return e},this),j=Y.bind(function(e){if(0!==e.time){var n={ad:{data:this.adIdDictionary[e.adId].vastData}};P(n,t[e.time])}},this),G=Y.bind(function(e,n){var t=this;return function(){e&&clearTimeout(e),Y.isUndefined(t.adIdDictionary[n])||(o.notifyLinearAdEnded(t.adIdDictionary[n].curAdId),o.notifyPodEnded(t.adIdDictionary[n].curAdId),s=!1,t.currentAd=null,delete t.adIdDictionary[n])}},this),e=Y.bind(function(){o&&(o.removePlayerListener(o.EVENTS.CONTENT_CHANGED,Y.bind(v,this)),o.removePlayerListener(o.EVENTS.VIDEO_TAG_FOUND,Y.bind(this.onVideoTagFound,this)),o.removePlayerListener(o.EVENTS.CONTENT_URL_CHANGED,Y.bind(this.onContentUrlChanged,this)),o.removePlayerListener(o.EVENTS.FULLSCREEN_CHANGED,Y.bind(this.onFullscreenChanged,this)),o.removePlayerListener(o.EVENTS.AD_VOLUME_CHANGED,Y.bind(this.onAdVolumeChanged,this)),o.removePlayerListener(o.EVENTS.MUTE_STATE_CHANGED,Y.bind(this.onMuteStateChanged,this)),o.addPlayerListener(o.EVENTS.PLAYHEAD_TIME_CHANGED,Y.bind(this.onPlayheadTimeChanged,this)),o.addPlayerListener(o.EVENTS.REPLAY_REQUESTED,Y.bind(this.onReplay,this)))},this)}})},{"../html5-common/js/utils/InitModules/InitOO.js":1,"../html5-common/js/utils/InitModules/InitOOHazmat.js":2,"../html5-common/js/utils/InitModules/InitOOPlayerParamsDefault.js":3,"../html5-common/js/utils/InitModules/InitOOUnderscore.js":4,"../html5-common/js/utils/constants.js":5,"../html5-common/js/utils/environment.js":6,"../html5-common/js/utils/utils.js":7,"../utils/ad_manager_utils.js":11,"../utils/vast_parser.js":12}],11:[function(e,n,t){"use strict";n.exports=new function(){this.convertTimeStampToMilliseconds=function(e){var n=null;if(_.isString(e)&&r(e)){var t=e.split(":");n=1e3*(60*+t[0]*60+60*+t[1]+ +t[2])}else o("convertTimeStampToMilliseconds: invalid timeString received. Value was: "+e);return n},this.convertPercentToMilliseconds=function(e,n){var t=null,r=null,i=_.isString(e),a=_.isNumber(n);return i?(r=e.replace("%",""),r=parseFloat(r),(!_.isFinite(r)||r<0)&&(i=!1,o("convertPercentToMilliseconds: invalid percentage was received. Value was: "+e))):o("convertPercentToMilliseconds: invalid timeString received. Value was: "+e),a||o("convertPercentToMilliseconds: invalid totalDuration was received. Value was: "+n),i&&a&&(t=+n*r*10),t};var r=_.bind(function(e){var n=!1;if(e){var t=e.split(":");if(3===t.length){for(var r=!0,i=0;i<t.length;i++){var a=parseInt(t[i]);if(!_.isFinite(a)||a<0){r=!1;break}}n=r}}return n},this),o=_.bind(function(e){OO.log("AdManagerUtils: "+e)},this)}},{}],12:[function(e,n,t){"use strict";n.exports=function(c){this.errorInfo={},this.wrapperParentId=null;var n=["2","3"],e="skipAd",t="poddedAds",r="adFallback",i={2:[]};i[3]=[e,t,r];var d="InLine",h="Wrapper",a=["creativeView","start","midpoint","firstQuartile","thirdQuartile","complete","mute","unmute","pause","rewind","resume","fullscreen","exitFullscreen","expand","collapse","acceptInvitation","close","skip"];this.parser=function(e,n){var t=c(e).find("Ad");if(this.checkNoAds(e,t)||this.getErrorTrackingInfo(e,t),!this.isValidVastXML(e))return null;var r={podded:[],standalone:[]},i=this.parseAds(e,n);return _.each(i,_.bind(function(e){var n=void 0!==e.sequence&&_.isNumber(parseInt(e.sequence))?e.sequence:null,t=void 0!==e.version?e.version:null;m(t)&&n?r.podded[+n-1]=e:r.standalone.push(e)},this)),r},this.parseAds=function(e,n){var t=[],r=s(e);return c(e).find("Ad").each(function(){var e=null;e||(e=o(this,r)),e&&t.push(e)}),t};var o=_.bind(function(e,n){var t=A(),r=c(e),i=r.find(d),a=r.find(h);if(0<i.length)t.type=d;else{if(!(0<a.length))return null;t.type=h}t.version=n;var o=r.find("Linear").eq(0),s=r.find("NonLinearAds");t.type===h&&(t.VASTAdTagURI=r.find("VASTAdTagURI").text()),t.error=v(r.find("Error").map(function(){return c(this).text()})),t.impression=v(r.find("Impression").map(function(){return c(this).text()})),t.title=_.first(v(r.find("AdTitle").map(function(){return c(this).text()}))),0<o.length&&(t.linear=f(o)),0<s.length&&(t.nonLinear=p(s)),r.find("Companion").map(function(e,n){return t.companion.push(g(c(n))),1});var l=r.attr("sequence");void 0!==l&&(t.sequence=l);var u=r.attr("id");return void 0!==u&&(t.id=u),t},this),f=_.bind(function(e){var n={tracking:{},clickTracking:v(c(e).find("ClickTracking").map(function(){return c(this).text()})),clickThrough:c(e).find("ClickThrough").text(),customClick:v(c(e).find("CustomClick").map(function(){return c(this).text()}))};n.skipOffset=c(e).attr("skipoffset");var t=e.find("MediaFile");return y(n.tracking,e),0<t.length&&(n.mediaFiles=v(t.map(function(e,n){return{type:c(n).attr("type").toLowerCase(),url:c.trim(c(n).text()),bitrate:c(n).attr("bitrate"),width:c(n).attr("width"),height:c(n).attr("height")}})),n.duration=e.find("Duration").text()),n},this),p=_.bind(function(e){var n={tracking:{}},t=e.find("NonLinear").eq(0);if(y(n.tracking,e),0<t.length){var r=t.find("StaticResource"),i=t.find("IFrameResource"),a=t.find("HTMLResource");n.width=t.attr("width"),n.height=t.attr("height"),n.expandedWidth=t.attr("expandedWidth"),n.expandedHeight=t.attr("expandedHeight"),n.scalable=t.attr("scalable"),n.maintainAspectRatio=t.attr("maintainAspectRatio"),n.minSuggestedDuration=t.attr("minSuggestedDuration"),n.nonLinearClickThrough=t.find("NonLinearClickThrough").text(),n.nonLinearClickTracking=v(c(e).find("NonLinearClickTracking").map(function(){return c(this).text()})),0<r.length?_.extend(n,{type:"static",data:r.text(),url:r.text()}):0<i.length?_.extend(n,{type:"iframe",data:i.text(),url:i.text()}):0<a.length&&_.extend(n,{type:"html",data:a.text(),htmlCode:a.text()})}return n},this);this.checkNoAds=function(e,n){if(0===n.length){OO.log("VAST: No ads in XML");var t=c(e).find("Error").text();return t&&this.pingErrorURL(this.ERROR_CODES.WRAPPER_NO_ADS,t),!0}return!1},this.pingErrorURL=function(e,n){n=n.replace(/\[ERRORCODE\]/,e),OO.pixelPing(n)},this.pingErrorURLs=function(e,n){_.each(n,function(){this.pingErrorURL(e,url)},this)},this.getErrorTrackingInfo=function(e,n){_.each(n,function(e){var n={errorURLs:[],wrapperParentId:this.wrapperParentId||null},t=c(e).find("Error");0<t.length&&(n.errorURLs=[t.text()]);var r=c(e).prop("id");this.errorInfo[r]=n},this)},this.isValidVastXML=function(e){return this.isValidRootTagName(e)&&this.isValidVastVersion(e)},this.isValidRootTagName=function(e){return!!l(e)||(OO.log("VAST: Invalid VAST XML"),!1)},this.isValidVastVersion=function(e){var n=s(e);return!!E(n)||(OO.log("VAST: Invalid VAST Version: "+n),!1)};var s=_.bind(function(e){var n=l(e);return c(n).attr("version")},this),l=_.bind(function(e){var n=c(e).find("VAST");return 0===n.length?(OO.log("VAST: No VAST tags in XML"),null):1<n.length?(OO.log("VAST: Multiple VAST tags in XML"),null):n[0]},this),u=_.bind(function(e){if("string"==typeof e)return e.split(".")[0]},this),E=_.bind(function(e){return _.contains(n,u(e))},this),m=_.bind(function(e){return _.contains(i[u(e)],t)},this),A=(_.bind(function(e){return _.contains(i[u(e)],r)},this),_.bind(function(){return{error:[],impression:[],linear:{},nonLinear:{},companion:[]}},this)),v=_.bind(function(e){return _.without(e,null,"")},this),g=_.bind(function(e){var n={tracking:{}},t=S(e.find("StaticResource").text()),r=S(e.find("IFrameResource").text()),i=S(e.find("HTMLResource").text());return y(n.tracking,e,["creativeView"]),n={tracking:n.tracking,width:e.attr("width"),height:e.attr("height"),expandedWidth:e.attr("expandedWidth"),expandedHeight:e.attr("expandedHeight"),companionClickThrough:e.find("CompanionClickThrough").text()},t.length?_.extend(n,{type:"static",data:t,url:t}):r.length?_.extend(n,{type:"iframe",data:r,url:r}):i.length&&_.extend(n,{type:"html",data:i,htmlCode:i}),n},this);this.checkCompanionAds=function(e){var n,t=e.data,r=currentAd.vpaidAd?_safeFunctionCall(currentAd.vpaidAd,"getAdCompanions"):null;n=t&&!_.isEmpty(t.companion)?t.companion:r,_.isEmpty(n)||this.amc.showCompanion(n)};var y=_.bind(function(t,r,e){var n=e||a;_.each(n,function(e){var n="Tracking[event="+e+"]";t[e]=v(r.find(n).map(function(e,n){return c(n).text()}))},{})},this),S=function(e){return e.replace(/\r?\n|\r/g,"").trim()}}},{}]},{},[10]);
