<!DOCTYPE html>
<html>
<head>
  <script src="//bitmovin-a.akamaihd.net/bitmovin-player/stable/7/bitmovinplayer.js"></script>
</head>
<body>
  <div id='player' style='width:1024px;'></div>
  <script type="text/javascript">
    var BITMOVIN_PLAYER_KEY    = null;

    var logEvent = function() {
      console.log("Bitmovin:", arguments[0].type, JSON.stringify(arguments[0], null, '\t'));
    };

    var bitmovinEvents = {
      onReady: logEvent,
      onSubtitleAdded: logEvent,
      onPlay: logEvent,
      onPause: logEvent,
      onSeek: logEvent,
      onSeeked: logEvent,
      onVolumeChange: logEvent,
      onMute: logEvent,
      onUnmute: logEvent,
      onFullscreenEnter: logEvent,
      onFullscreenExit: logEvent,
      onPlaybackFinished: logEvent,
      onError: logEvent,
      onStartBuffering: logEvent,
      onStopBuffering: logEvent,
      onAudioChange: logEvent,
      onSubtitleChange: logEvent,
      onVideoDownloadQualityChange: logEvent,
      onAudioDownloadQualityChange: logEvent,
      onVideoPlaybackQualityChange: logEvent,
      onAudioPlaybackQualityChange: logEvent,
      onTimeChanged: logEvent,
      onMetadata: logEvent,
      onVideoAdaptation: logEvent,
      onAudioAdaptation: logEvent,
      onShowControls: logEvent,
      onHideControls: logEvent,
      onStopBuffering: logEvent,
      onStartBuffering: logEvent,
      onDownloadFinished: logEvent,
      onCueEnter: logEvent
    };

    var playerConfig = {
      key: BITMOVIN_PLAYER_KEY,
      events: bitmovinEvents
    };

    var source = {
      dash: 'https://secure-cf-c.ooyala.com/Q1cG85NTE6Df3A95XMMbKGsPg6yaEZGm/1/dash/1.mpd',
      drm: {
        widevine: {
          LA_URL: 'https://player.ooyala.com/sas/drm2/BjcWYyOu1KK2DiKOkF41Z2k0X57l/Q1cG85NTE6Df3A95XMMbKGsPg6yaEZGm/widevine_modular/ooyala'
        }
      }
      //hls: 'http://player.ooyala.com/player/all/l1MzhtNTE6eOf81reieCvXoynnA7TUdp.m3u8?secure_ios_token=cDV4ZnhVWmFGRXkvTUxGU254RW1QRkRiZXluTWdhMURIdWgyTzgzc2kyZ1h4UVBGdmYzQ2xxd2pUdmZECmhSbXlsU0N0N2NSSG5jVVY3Q0I0Zmk2WTBRPT0K'
    };

    var player = bitmovin.player('player');

    console.log(">>>>SETUP STARTED", player.isReady());
    player.setup(playerConfig)
    .then(function() {
      console.log(">>>>SETUP COMPLETE", player.isReady());
      var loadPromise = player.load(source);
      console.log(">>>>LOAD STARTED", player.isReady());
      return loadPromise;
    }).then(function() {
      console.log(">>>>SOURCE LOADED", player.isReady());
    });
  </script>
</body>
</html>
